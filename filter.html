<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>filtre</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>

<div id="myBtnContainer">
    <button class="btn active" onclick="filterSelection('all')"> Show all</button>
    <button class="btn" onclick="filterSelection('Harun')"> Cars</button>
    <button class="btn" onclick="filterSelection('Ferdi')"> Animals</button>
    <button class="btn" onclick="filterSelection('İrfan')"> Fruits</button>
    <button class="btn" onclick="filterSelection('Hakan')"> Colors</button>
</div>

<div class="container-sm" style="text-align: center">

    <table class="table table-dark" style="text-align: center">
        <thead>

        <th>ID</th>
        <th>Tarih</th>
        <th>Ürün</th>
        <th>Adet</th>
        <th>Fiyat</th>
        <th>Alici</th>
        <th>Ücret</th>


        </thead>

        <tbody id="tbody1"></tbody>

    </table>

</div>

<script type="module">

    var idd = 0;
    var tbody = document.getElementById('tbody1');

    function AddItemToTable(urrun,addet,fiyyat,allici,uccret,tarrih){

        let trow = document.createElement('tr');
        let td1 = document.createElement('td');
        let td2 = document.createElement('td');
        let td3 = document.createElement('td');
        let td4 = document.createElement('td');
        let td5 = document.createElement('td');
        let td6 = document.createElement('td');
        let td7 = document.createElement('td');


        td1.innerHTML = ++idd;
        td2.innerHTML = tarrih;
        td3.innerHTML = urrun;
        td4.innerHTML = addet;
        td5.innerHTML = fiyyat + "₺";
        td6.innerHTML = allici;
        td7.innerHTML = addet * fiyyat + "₺";


        trow.appendChild(td1);
        trow.appendChild(td2);
        trow.appendChild(td3);
        trow.appendChild(td4);
        trow.appendChild(td5);
        trow.appendChild(td6);
        trow.appendChild(td7);

        tbody.appendChild(trow);
    }

    function AddAllItemsToTable(TheStudent){
        idd=0;
        tbody.innerHTML="";
        TheStudent.forEach(element => {

            AddItemToTable(element.Urun, element.Adet, element.Fiyat, element.Alici, element.Ucret, element.Tarih);

        });
    }

    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.4/firebase-app.js";
    const firebaseConfig = {
        apiKey: "AIzaSyC2W0ZQNDQbcJrhi9jkOQC4h-ZqAKn1hWc",
        authDomain: "muhasebe-8abea.firebaseapp.com",
        databaseURL: "https://muhasebe-8abea-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "muhasebe-8abea",
        storageBucket: "muhasebe-8abea.appspot.com",
        messagingSenderId: "321395305665",
        appId: "1:321395305665:web:7d5d494000646bea52f840"
    };

    const app = initializeApp(firebaseConfig);


    import {getDatabase, ref, child, get}
        from "https://www.gstatic.com/firebasejs/9.8.4/firebase-database.js";

    const db = getDatabase();

    function GetAllDataOnce(){
        const dbRef = ref(db);

        get(child(dbRef, "Kasa" ))
            .then((snapshot)=>{

                var students =[];

                snapshot.forEach(childSnapshot => {
                    students.push(childSnapshot.val());
                });

                AddAllItemsToTable(students);

            });
    }

    window.onload=GetAllDataOnce;

</script>


</body>

</html>